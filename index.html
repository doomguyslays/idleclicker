<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <h1></h1>
    <div class="button-container">       
      <button id="produceButton" class="button"><i class="fas fa-tools"></i> Produce</button>
      <button id="sellButton" class="button"><i class="fas fa-money-bill-wave"></i> Sell</button>
      <button id="hireButton" class="button"><i class="fas fa-users"></i> Hire Worker</button>
      <button id="fullscreenButton" class="button"><i class="fas fa-expand"></i> Fullscreen</button>
      <button id="exportButton" class="button"><i class="fas fa-file-export"></i> Export Save</button>
      <button id="importButton" class="button"><i class="fas fa-file-import"></i> Import Save</button>
    </div>
    <div class="info-container">
      <div class="info-row">
        <p class="info-label">Money:</p>
        <p class="info-value"><span id="money">0</span></p>
      </div>
      <div class="info-row">
        <p class="info-label">Products:</p>
        <p class="info-value"><span id="products">0</span></p>
      </div>
      <div class="info-row">
        <p class="info-label">Workers:</p>
        <p class="info-value"><span id="workers">0</span></p>
      </div>
    </div>
    <audio id="backgroundMusic" loop>
      <source src="audio/background_music.mp3" type="audio/mpeg">
    </audio>
    <script src="https://kit.fontawesome.com/4e5e6b1aee.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="script.js"></script>
    <script>
      var fullscreenButton = document.getElementById("fullscreenButton");
      fullscreenButton.addEventListener("click", function() {
        if (document.fullscreenElement) {
          document.exitFullscreen();
        } else {
          document.documentElement.requestFullscreen();
        }
      });
      var exportButton = document.getElementById("exportButton");
      exportButton.addEventListener("click", function() {
        var saveData = JSON.stringify({money: money, products: products, workers: workers});
        var saveFile = new Blob([saveData], {type: "application/json"});
        var saveURL = URL.createObjectURL(saveFile);
        var saveLink = document.createElement("a");
        saveLink.href = saveURL;
        saveLink.download = "game-save.json";
        document.body.appendChild(saveLink);
        saveLink.click();
        document.body.removeChild(saveLink);
        URL.revokeObjectURL(saveURL);
      });
      var importButton = document.getElementById("importButton");
      importButton.addEventListener("change", function(evt) {
        var selectedFile = evt.target.files[0];
        var reader = new FileReader();
        reader.onload = function(event) {
          var saveData = JSON.parse(event.target.result);
          money = saveData.money;
          products = saveData.products;
          workers = saveData.workers;
          updateDisplay();
        };
        reader.readAsText(selectedFile);
      });
    </script>
  </body>
</html>
